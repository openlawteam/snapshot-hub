
# REST Client tests on http://localhost:8080/ server
# Use docker-composer up --build to launch the test server 
@baseUrl = http://localhost:8080
### dev
#@token = 0x8276d5e4133eba2043a2a9fccc55284c1243f1d4
### prod thelao
@token = 0x8f56682a50becb1df2fb8136954f2062871bc7fc
@space = thelao
### prod flamingo
#@token = 0x43310bd1c8f261ee7b9025662207ed95329aa193

### Health Check (root)
GET {{baseUrl}}/

### Health Check (api)
GET {{baseUrl}}/api

### Migration(api)
PUT {{baseUrl}}/api/{{space}}/migrate HTTP/1.1

### Create a General Proposal 1
POST {{baseUrl}}/api/message HTTP/1.1
Content-Type: application/json

{"address":"0x3098C683320703B2B0922f7a2CE67D2ee321EaA9","msg":"{\"payload\":{\"name\":\"Example Project\",\"body\":\"xyz\\n\\nasdasd\\n\\nasdasd\",\"choices\":[\"Yes\",\"No\"],\"start\":1605099037,\"end\":1605131437,\"snapshot\":7529379,\"metadata\":{\"uuid\":\"c51c5424-ea9d-4498-b812-af41da595827\",\"private\":false,\"type\":\"Governance\",\"subType\":\"Governance\"},\"nameHash\":\"09c1deff0f404061c09d412e4278fb34e2aa221210560fafa54b698344aa1b84\",\"bodyHash\":\"3afaa0946328d03f82ad967d77b08c639ce64d1834060d2d82112ac7a1835678\",\"metadataHash\":\"a9be1b22bced8deadff164283450731bf4b7a2b03e08c5efb62902de5ded6af7\"},\"timestamp\":\"1607028555\",\"token\":\"0x8f56682a50becb1df2fb8136954f2062871bc7fc\",\"space\":\"myspace\",\"type\":\"proposal\",\"version\":\"0.2.0\",\"chainId\":5777,\"verifyingContract\":\"0xcFc2206eAbFDc5f3d9e7fA54f855A8C15D196c05\",\"versionHash\":\"177d57055bb57caacc5f72e04f893f984b95e26f8749bff5b374a6d1548ea727\",\"spaceHash\":\"d2e1a4108d7426eff706e6f9fdaeeeccb42c2e8ea8e235a368ba5f5d746dd8af\"}","sig":"0x5b38712f5e64f4efdd6469bad42de6b2617daf1e7835c352aa33065ec88bad6e329caa2a6c5547ba7213921fc71e7a90b65ca9d789789489d30925e2687cae261b"}

### Get All proposals based on space name
GET {{baseUrl}}/api/{{space}}/proposals HTTP/1.1

### Vote YES on General Proposal 1
POST {{baseUrl}}/api/message HTTP/1.1
Content-Type: application/json

{"address":"0xEd7B3f2902f2E1B17B027bD0c125B674d293bDA0","msg":"{\"payload\":{\"choice\":2,\"proposal\":\"Qmf21zroL18c8C561Boq1pViUW9JeuBHhTXMDdfkx3vV48\",\"metadata\":{\"memberAddress\":\"0xed7b3f2902f2e1b17b027bd0c125b674d293bda0\"}},\"timestamp\":\"1603743259\",\"token\":\"0x8f56682a50becb1df2fb8136954f2062871bc7fc\",\"type\":\"vote\",\"version\":\"0.1.2\"}","sig":"0xd3c2a907b94e7cb9d9e908c9ec6acea100bd2d65ddf6eda126b028bd2805bdd53bc2cf473ca9ed881ef1d796985e6e6b153dc21c80ceff53bdd4043c431477e81b"}

### Vote NO on General Proposal 1
POST {{baseUrl}}/api/message HTTP/1.1
Content-Type: application/json

{"address":"0xEd7B3f2902f2E1B17B027bD0c125B674d293bDA0","msg":"{\"payload\":{\"choice\":2,\"proposal\":\"QmTdejAMkvSGaYJf345rnN5tG6jHdMyXjrRZY6Bu8UXeVr\",\"metadata\":{\"memberAddress\":\"0xed7b3f2902f2e1b17b027bd0c125b674d293bda0\"}},\"timestamp\":\"1603301319\",\"token\":\"0x8276d5e4133eba2043a2a9fccc55284c1243f1d4\",\"type\":\"vote\",\"version\":\"0.1.2\"}","sig":"0x8f44396c30ad33cf5b9b13a082a44cf537b7be0e8ecaeb625f18c19452d36efa1c8c2cf561c044d55b4c08387aa66bb2d5773204847031c0c82d2302a64513791b"}
